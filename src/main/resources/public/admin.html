<div class="container">
    <div class="row">
        <ul class="nav nav-tabs">
            <li ng-click="toggle=false" ng-click="toggle=true" ng-class="{'active' : !toggle}"><a href="#">Menage
                Items</a></li>
            <li ng-click="toggle=true" ng-click="toggle=true" ng-class="{'active' : toggle}"><a href="#">Menage
                Permissions</a></li>
        </ul>
        <!-- /tabs -->
    </div>
    <div class="col-lg-9">
        <table class="table" ng-show="toggle">
            <thead class="thead-inverse">
            <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Lastname</th>
                <th>Email</th>
                <th>Authority</th>
                <th>Enabled</th>
                <th>Change</th>
                <th>Authority</th>
                <th>To</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="customer in customers" ng-class="{'danger' : !customer.backendUser.username.enabled}">
                <td ng-class="{'cursor-block' : !customer.backendUser.username.enabled}">
                    {{customer.backendUser.username.username}}
                </td>
                <td ng-class="{'cursor-block' : !customer.backendUser.username.enabled}">
                    {{customer.backendUser.username.name}}
                </td>
                <td ng-class="{'cursor-block' : !customer.backendUser.username.enabled}">
                    {{customer.backendUser.username.lastname}}
                </td>
                <td ng-class="{'cursor-block' : !customer.backendUser.username.enabled}">
                    {{customer.backendUser.username.email}}
                </td>
                <td ng-class="{'cursor-block' : !customer.backendUser.username.enabled}" class="text-center">
                    {{customer.backendUser.authority}}
                </td>
                <td>
                    <toggle ng-model="customer.backendUser.username.enabled"
                            ng-change="disable(customer.backendUser.username.username)"></toggle>
                </td>
                <td>
                    <div ng-class="{'cursor-block' : (!customer.backendUser.username.enabled || customer.backendUser.authority==='USER')}">
                        <button ng-click="degradeToUser(customer.backendUser.username.username)" class="btn"
                                ng-class="{'cursor-block': !customer.backendUser.username.enabled, 'btn-info' : customer.backendUser.username.enabled}"
                                ng-disabled="(!customer.backendUser.username.enabled || customer.backendUser.authority==='USER')">
                            USER
                        </button>
                    </div>
                </td>
                <td>
                    <div ng-class="{'cursor-block' : (!customer.backendUser.username.enabled || customer.backendUser.authority==='MODERATOR')}">
                        <button ng-click="assignModeratorRole(customer.backendUser.username.username)" class="btn"
                                ng-class="{'cursor-block' : !customer.backendUser.username.enabled, 'btn-warning' : customer.backendUser.username.enabled}"
                                ng-disabled="(!customer.backendUser.username.enabled || customer.backendUser.authority==='MODERATOR')">
                            MOD
                        </button>
                    </div>
                </td>
                <td>
                    <div ng-class="{'cursor-block' : (!customer.backendUser.username.enabled || customer.backendUser.authority==='ADMIN')}">
                        <button ng-click="grantAdmin(customer.backendUser.username.username)" class="btn"
                                ng-class="{'cursor-block' : !customer.backendUser.username.enabled, 'btn-danger' : customer.backendUser.username.enabled}"
                                ng-disabled="(!customer.backendUser.username.enabled || customer.backendUser.authority==='ADMIN')">
                            ADMIN
                        </button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="form" ng-hide="toggle">
            <form class="form-horizontal" name="itemForm" ng-submit="processRegistration(itemForm.$valid)"
                  novalidate>
                <div class="form-group">
                    <label for="name" class="cols-sm-2 control-label">Item name*</label>
                    <div class="cols-sm-10">
                        <div class="input-group"
                             ng-class="{ 'has-error': itemForm.name.$error.required && itemForm.$submitted }">
                            <span class="input-group-addon"><i class="fa fa-user-circle" aria-hidden="true"></i></span>
                            <input type="text" class="form-control" name="name" id="name" placeholder="Enter item name"
                                   ng-model="name" ng-required="true"/>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="price" class="cols-sm-2 control-label">Price*</label>
                    <div class="cols-sm-10">
                        <div class="input-group"
                             ng-class="{ 'has-error': itemForm.price.$error.required && itemForm.$submitted }">
                            <span class="input-group-addon"><i class="fa fa-user" aria-hidden="true"></i></span>
                            <input type="number" class="form-control" name="price" id="price"
                                   placeholder="Item price" ng-model="price" ng-required="true"/>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="full" class="cols-sm-2 control-label">Full description*</label>
                    <div class="cols-sm-10">
                        <div class="input-group"
                             ng-class="{ 'has-error': itemForm.full.$error.required && itemForm.$submitted }">
                            <span class="input-group-addon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                            <textarea class="form-control" name="full" id="full" style="resize: none;" rows="5"
                                      placeholder="Full description"
                                      ng-model="full" ng-required="true">
                            </textarea>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="short" class="cols-sm-2 control-label">Short description*</label>
                    <div class="cols-sm-10">
                        <div class="input-group"
                             ng-class="{ 'has-error': itemForm.short.$error.required && itemForm.$submitted }">
                            <span class="input-group-addon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                            <input type="text" class="form-control" name="short" id="short"
                                   placeholder="Short description"
                                   ng-model="short" ng-required="true"/>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="short" class="cols-sm-2 control-label">Short description*</label>
                    <div class="cols-sm-10">
                        <div class="input-group"
                             ng-class="{ 'has-error': itemForm.short.$error.required && itemForm.$submitted }">
                            <span class="input-group-addon"><i class="fa fa-envelope" aria-hidden="true"></i></span>
                            <input type="text" class="form-control" name="short" id="short"
                                   placeholder="Short description"
                                   ng-model="short" ng-required="true"/>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-primary btn-lg btn-block">Add</button>
                </div>

            </form>
        </div>
    </div>
</div>